(this["webpackJsonpreact-solid"]=this["webpackJsonpreact-solid"]||[]).push([[0],{1006:function(e,t,n){},1009:function(e,t,n){},1013:function(e,t,n){},1014:function(e,t,n){},1094:function(e,t,n){},1095:function(e,t,n){},1096:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(46),s=n.n(c),i=(n(547),n(74)),o=n(65),u=n(1),l=n.n(u),m=n(15),p=n(10),f=n(12),d=n(16),h=n(17),b=n(1103),v=n(1107),w=n(107),g=n(89),y=n(1110),E=n(1111),x=n(1105),j=n(1113),O=n(1114),k=n(1115),C=n(37),S=n.n(C),A=n(1106),N=n(165),L=n(516),I=n.n(L),T=(n(950),Object(N.withWebId)((function(e){var t=e.webId,n=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.logout();case 2:localStorage.removeItem("solid-auth-client"),window.location.href=window.location.origin+"/login";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-content"},r.a.createElement(i.b,{to:"/"},r.a.createElement("img",{src:I.a,className:"home-logo",alt:""})),t&&r.a.createElement("div",null,r.a.createElement(E.a,{overlay:r.a.createElement(x.a,null,r.a.createElement(x.a.Item,null,r.a.createElement(i.b,{to:"new"},r.a.createElement(j.a,null),"Post News")),r.a.createElement(x.a.Item,null,r.a.createElement(i.b,{to:"/admin"},r.a.createElement(O.a,null),"Manage News")),r.a.createElement(x.a.Item,{onClick:function(){return n()}},r.a.createElement(k.a,null),"Logout")),placement:"bottomLeft"},r.a.createElement("span",{className:"header-user-info"},r.a.createElement(le,{src:t}),r.a.createElement("span",{className:"header-user-name"},Object(A.a)({src:"[".concat(t,"].name")})))))))}))),M=n(176),F=n(32),D=n.n(F),U=n(67),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).createdAt=void 0,e.updatedAt=void 0,e}return n}(U.SolidModel);P.timestamps=["createdAt"],P.rdfContexts={schema:"https://schema.org/"},P.rdfsClasses=["schema:Report"],P.fields={name:F.FieldType.String,author:F.FieldType.String,articleBody:F.FieldType.String,category:F.FieldType.String,filename:F.FieldType.String,fileurl:F.FieldType.String};var H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return n}(U.SolidModel);H.timestamps=!1,H.rdfContexts={schema:"https://schema.org/"},H.rdfsClasses=["schema:CategoryCodeSet"],H.fields={name:F.FieldType.String,description:F.FieldType.String};var R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).createdAt=void 0,e.updatedAt=void 0,e}return n}(U.SolidModel);R.timestamps=["createdAt"],R.rdfContexts={schema:"https://schema.org/"},R.rdfsClasses=["schema:Comment"],R.fields={description:F.FieldType.String,profile:F.FieldType.String,source:F.FieldType.String};var q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).createdAt=void 0,e.updatedAt=void 0,e}return n}(U.SolidModel);q.timestamps=["createdAt"],q.rdfContexts={schema:"https://schema.org/"},q.rdfsClasses=["schema:Report"],q.fields={name:F.FieldType.String,author:F.FieldType.String,newsUrl:F.FieldType.String,category:F.FieldType.String};var B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).createdAt=void 0,e.updatedAt=void 0,e}return n}(U.SolidModel);B.timestamps=["createdAt"],B.rdfContexts={schema:"https://schema.org/"},B.rdfsClasses=["schema:Comment"],B.fields={commentUrl:F.FieldType.String,newsUrl:F.FieldType.String};var Y="https://leeonfield.inrupt.net/category/",z=new function e(){Object(p.a)(this,e),this.list=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.from(Y).all();case 2:return t=e.sent,n=t.map((function(e){return e.getAttributes()})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),this.create=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.create(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.a.loadModels({Category:H}),D.a.useEngine(new U.SolidEngine(S.a.fetch.bind(S.a))),H.at(Y)},W=n(27);function K(e,t){return V.apply(this,arguments)}function V(){return(V=Object(m.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.abrupt("return",new URL(t,n).toString());case 4:return e.next=6,S.a.currentSession();case 6:return a=e.sent,e.abrupt("return",new URL(t,a.webId).toString());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=new function e(){Object(p.a)(this,e),this.list=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("/public/news/");case 2:return n=e.sent,a=t?{category:t}:{},e.next=6,P.from(n).all(a);case 6:return r=e.sent,c=r.map((function(e){return e.getAttributes()})).sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()})),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("/public/news/");case 2:return n=e.sent,e.next=5,P.at(n).create(t);case 5:return a=e.sent,e.abrupt("return",a.getAttributes());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.detail=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,K("/public/news/",t);case 4:return n=e.sent,e.next=7,P.at(n).all();case 7:a=e.sent,r=Object(W.a)(a),e.prev=9,r.s();case 11:if((c=r.n()).done){e.next=17;break}if((s=c.value).getAttributes().url!==t){e.next=15;break}return e.abrupt("return",s.getAttributes());case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",{});case 26:case"end":return e.stop()}}),e,null,[[9,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),this.remove=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("/public/news/",t);case 2:return n=e.sent,e.next=5,P.at(n).all();case 5:a=e.sent,r=Object(W.a)(a),e.prev=7,r.s();case 9:if((c=r.n()).done){e.next=16;break}if((s=c.value).getAttributes().url!==t){e.next=14;break}return e.next=14,s.delete();case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[7,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),D.a.loadModels({News:P}),D.a.useEngine(new U.SolidEngine(S.a.fetch.bind(S.a)))},J=n(40),X=new function e(){Object(p.a)(this,e),this.list=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.detail=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,K("/public/comments/",t);case 4:return n=e.sent,e.next=7,R.at(n).all();case 7:a=e.sent,r=Object(W.a)(a),e.prev=9,r.s();case 11:if((c=r.n()).done){e.next=17;break}if((s=c.value).getAttributes().url!==t){e.next=15;break}return e.abrupt("return",s.getAttributes());case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",{});case 26:case"end":return e.stop()}}),e,null,[[9,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K("/public/comments/");case 2:return n=e.sent,e.next=5,R.at(n).create(Object(J.a)(Object(J.a)({},t),{},{created:new Date}));case 5:return a=e.sent,e.abrupt("return",a.getAttributes());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.a.loadModels({CommentModel:R}),D.a.useEngine(new U.SolidEngine(S.a.fetch.bind(S.a)))},$=n(521),G=n.n($),Q=new function e(){var t=this;Object(p.a)(this,e),this.fileClient=void 0,this.upload=function(){var e=Object(m.a)(l.a.mark((function e(n,a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K("/public/attachment/");case 3:return r=e.sent,e.next=6,t.fileClient.putFile(a||"".concat(r).concat(+new Date,"-").concat(n.name),n,n.type);case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),this.fileClient=new G.a(S.a)},Z=new function e(){Object(p.a)(this,e),this.list=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?{category:t}:{},e.next=3,q.from("https://leeonfield.inrupt.net/newslist/").all(n);case 3:return a=e.sent,r=a.map((function(e){return e.getAttributes()})),e.next=7,B.all();case 7:return c=e.sent,s=c.map((function(e){return e.getAttributes()})),i=r.map((function(e){var t=s.filter((function(t){return t.newsUrl===e.newsUrl})).length;return Object(J.a)({commentCount:t},e)})).sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.create(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.remove=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.all();case 2:n=e.sent,a=Object(W.a)(n),e.prev=4,a.s();case 6:if((r=a.n()).done){e.next=13;break}if((c=r.value).getAttributes().newsUrl!==t){e.next=11;break}return e.next=11,c.delete();case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),D.a.loadModels({PublicComment:B,PublicNews:q}),D.a.useEngine(new U.SolidEngine(S.a.fetch.bind(S.a))),q.at("https://leeonfield.inrupt.net/newslist/"),B.at("https://leeonfield.inrupt.netlist/")},ee=new function e(){Object(p.a)(this,e),this.list=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.from("https://leeonfield.inrupt.net/commentslist/").all({newsUrl:t});case 2:return n=e.sent,a=n.map((function(e){return e.getAttributes()})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.create(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D.a.loadModels({PublicComment:B}),D.a.useEngine(new U.SolidEngine(S.a.fetch.bind(S.a))),B.at("https://leeonfield.inrupt.net/commentslist/")},te=n(1104),ne=(n(980),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={newsList:[],current:1},e.getNews=Object(m.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.type,t.next=3,Z.list("recent"===n?"":n);case 3:a=t.sent,e.setState({newsList:a});case 5:case"end":return t.stop()}}),t)}))),e.onPageChange=function(t){e.setState({current:t})},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getNews()}},{key:"componentDidUpdate",value:function(e,t){this.props.keyword!==e.keyword&&this.setState({current:1})}},{key:"render",value:function(){var e=this.state,t=e.newsList,n=e.current,a=this.props.keyword,c=void 0===a?"":a,s=t.filter((function(e){return e.name.indexOf(c)>-1})),o=s.slice(10*(n-1),10*n);return r.a.createElement("div",{className:"news-list"},o.map((function(e){return r.a.createElement(i.b,{to:"/detail?news=".concat(encodeURIComponent(e.newsUrl)),key:e.name},r.a.createElement("div",{className:"news-item"},r.a.createElement(le,{src:e.author}),r.a.createElement("div",{className:"news-content"},r.a.createElement("div",{className:"desc"},e.name),r.a.createElement("div",{className:"news-info"},r.a.createElement("strong",{className:"author"},r.a.createElement(A.a,{src:"[".concat(e.author,"].name")})))),r.a.createElement(y.a,{className:"site-badge-count-109",count:e.commentCount,style:{backgroundColor:"#52c41a"}})))})),0===s.length?r.a.createElement(M.a,{description:"No news "}):r.a.createElement(te.a,{pageSize:10,defaultCurrent:n,total:s.length,onChange:this.onPageChange,style:{marginTop:20}}))}}]),n}(a.Component)),ae=n(1108),re=n(1099),ce=n(193),se=n.n(ce),ie=(n(995),v.a.TextArea),oe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={commentList:[],commentIn:""},e.getComment=Object(m.a)(l.a.mark((function t(){var n,a,r,c,s,i,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.source,t.next=3,ee.list(n);case 3:a=t.sent,r=[],c=Object(W.a)(a),t.prev=6,c.s();case 8:if((s=c.n()).done){t.next=16;break}return i=s.value,t.next=12,X.detail(i.commentUrl);case 12:o=t.sent,r.push(o);case 14:t.next=8;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(6),c.e(t.t0);case 21:return t.prev=21,c.f(),t.finish(21);case 24:e.setState({commentList:r});case 25:case"end":return t.stop()}}),t,null,[[6,18,21,24]])}))),e.onChange=function(t){e.setState({commentIn:t})},e.onComment=Object(m.a)(l.a.mark((function t(){var n,a,r,c,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.commentIn,a=e.props,r=a.source,c=a.webId,s={description:n,profile:c,source:r},t.next=5,X.create(s);case 5:return i=t.sent,t.next=8,ee.create({commentUrl:i.url,newsUrl:r});case 8:ae.b.success("comment successfully"),e.setState({commentIn:""}),e.getComment();case 11:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getComment()}},{key:"render",value:function(){var e=this,t=this.state,n=t.commentList,a=t.commentIn;return r.a.createElement("div",{className:"comment-list"},r.a.createElement("div",{className:"comment-header"},"Comment"),r.a.createElement("div",{className:"comment-content"},n.map((function(e){return r.a.createElement(re.a,{key:e.url,author:r.a.createElement(A.a,{src:"[".concat(e.profile,"].name")}),avatar:r.a.createElement(le,{src:e.profile}),content:r.a.createElement("p",null,e.description),datetime:r.a.createElement(w.a,{title:se()(e.createdAt).format("YYYY-MM-DD HH:mm:ss")},r.a.createElement("span",null,se()(e.createdAt).format("MM-DD  HH:mm:ss")))})}))),r.a.createElement("div",{className:"comment-form"},r.a.createElement(ie,{placeholder:"leave your comment",rows:4,value:a,onChange:function(t){return e.onChange(t.target.value)}}),r.a.createElement(g.a,{className:"submit-btn",onClick:function(){return e.onComment()},type:"primary"},"Add Comment")))}}]),n}(a.Component),ue=n(1109),le=function(e){return r.a.createElement(ue.a,{shape:"square",style:{flexShrink:0},src:e.src?Object(A.a)({src:"[".concat(e.src,"].vcard_hasPhoto")}):"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"})},me=(n(1006),b.a.TabPane),pe=v.a.Search,fe=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cateList:[],keyword:""},e.getCateList=Object(m.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.list();case 2:n=t.sent,e.setState({cateList:n});case 4:case"end":return t.stop()}}),t)}))),e.onChangeKeyword=function(t){e.setState({keyword:t})},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getCateList()}},{key:"render",value:function(){var e=this,t=this.state,n=t.cateList,a=t.keyword;return r.a.createElement("div",{className:"home-container"},r.a.createElement("div",{className:"action-container"},r.a.createElement(pe,{placeholder:"search for news",onChange:function(t){return e.onChangeKeyword(t.target.value)},enterButton:!0})),r.a.createElement(b.a,{onChange:function(){e.onChangeKeyword("")},tabBarExtraContent:r.a.createElement(w.a,{title:"Create new Category"},r.a.createElement(i.b,{to:"category"},r.a.createElement(g.a,{type:"text"},"New")))},r.a.createElement(me,{tab:"Recent"},r.a.createElement(ne,{keyword:a,type:"recent"})),n.map((function(e){return r.a.createElement(me,{tab:"Finance"===e.name?r.a.createElement(y.a,{count:9},r.a.createElement("div",{className:"tab-content"},e.name)):e.name,key:e.url},r.a.createElement(ne,{keyword:a,type:e.name}))}))))}}]),n}(a.Component),de=n(1100),he=n(1116),be=(n(1009),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={newsList:[]},e.getList=Object(m.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.list();case 2:n=t.sent,e.setState({newsList:n});case 4:case"end":return t.stop()}}),t)}))),e.onRemove=function(){var t=Object(m.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.remove(n);case 2:return t.next=4,Z.remove(n);case 4:ae.b.success("delete successfully"),e.getList();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getList()}},{key:"render",value:function(){var e=this,t=this.state.newsList;return r.a.createElement("div",{className:"admin-container"},t.map((function(t){return r.a.createElement("div",{className:"news-item",key:t.url},r.a.createElement("div",{className:"news-content"},t.name),r.a.createElement(de.a,{title:"Confirm to delete this news ?",onConfirm:function(){return e.onRemove(t.url)},okText:"Yes",cancelText:"No"},r.a.createElement(g.a,{size:"small",icon:r.a.createElement(he.a,null),danger:!0,type:"text"},"Delete")))})))}}]),n}(a.Component)),ve=n(1112),we=n(1117),ge=n(296),ye=(n(1013),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={source:ge.parse(window.location.search),detail:{},author:""},e.getDetail=Object(m.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ge.parse(window.location.search).news,t.next=3,_.detail(n);case 3:a=t.sent,e.setState({detail:a});case 5:case"end":return t.stop()}}),t)}))),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getDetail()}},{key:"render",value:function(){var e=this.state,t=e.source,n=e.detail,a=this.props.webId,c=n.name,s=n.articleBody,i=n.category,o=n.createdAt,u=n.filename,l=n.fileurl,m=n.author;return r.a.createElement("div",{className:"detail-container"},r.a.createElement("div",{className:"detail-header"},r.a.createElement("h2",{className:"detail-title"},c),r.a.createElement("div",{className:"detail-info"},r.a.createElement("div",{className:"info-item"},m&&r.a.createElement("span",null,"Author: ",r.a.createElement(A.a,{src:"[".concat(m,"].name")})),r.a.createElement("span",null,se()(o).format("MM-DD HH:mm"))))),r.a.createElement("div",{className:"detail-content"},s),u&&r.a.createElement("div",{className:"detail-attachment"},r.a.createElement("a",{href:l,target:"__blank"},r.a.createElement(we.a,null)," ",u)),r.a.createElement(ve.a,{color:"#87d068"},"#",i),r.a.createElement(oe,{webId:a,source:t.news}))}}]),n}(a.Component)),Ee=Object(o.g)(ye),xe=n(195),je=n(1101),Oe=n(1102),ke=n(1118),Ce=(n(1014),xe.a.Option),Se=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cateList:[],fileList:[]},e.onSave=function(){var t=Object(m.a)(l.a.mark((function t(n){var a,r,c,s,i,o,u,m,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.webId,r=e.state.fileList,c=r[0]||{name:"",url:""},s=c.name,i=c.url,o=Object(J.a)(Object(J.a)({},n),{},{filename:s,fileurl:i,author:a}),t.next=6,_.create(o);case 6:return u=t.sent,m=n.name,p=n.category,t.next=10,Z.create({name:m,category:p,author:a,newsUrl:u.url});case 10:ae.b.success("Add successfully !"),e.props.history.push("/");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getCateList=Object(m.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.list();case 2:n=t.sent,e.setState({cateList:n});case 4:case"end":return t.stop()}}),t)}))),e.upload=function(){var t=Object(m.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({fileList:[{uid:n.name,name:n.name,status:"uploading"}]}),t.next=3,Q.upload(n);case 3:a=t.sent,(r=a.url)?e.setState({fileList:[{uid:n.name,name:n.name,status:"done",url:r}]}):e.setState({fileList:[]});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.getCateList()}},{key:"render",value:function(){var e=this,t={wrapperCol:{offset:8,span:16}},n={name:"file",beforeUpload:function(t){return e.upload(t),!1}},a=this.state,c=a.cateList,s=a.fileList;return r.a.createElement("div",{className:"create-news"},r.a.createElement(je.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:18}},{name:"basic",initialValues:{remember:!0},onFinish:this.onSave}),r.a.createElement(je.a.Item,{label:"Category",name:"category",rules:[{required:!0,message:"Please select the category"}]},r.a.createElement(xe.a,{style:{width:120}},c.map((function(e){return r.a.createElement(Ce,{key:e.url,value:e.name},e.name)})))),r.a.createElement(je.a.Item,{label:"Title",name:"name",rules:[{required:!0,message:"Please input the news title"}]},r.a.createElement(v.a,{placeholder:"news title"})),r.a.createElement(je.a.Item,{label:"Detail",name:"articleBody",rules:[{required:!0,message:"Please input the news detail"}]},r.a.createElement(v.a.TextArea,{showCount:!0,placeholder:"news detail"})),r.a.createElement(je.a.Item,{label:"Attachment",name:"attachment"},r.a.createElement(Oe.a,Object.assign({},n,{fileList:s}),r.a.createElement(g.a,{icon:r.a.createElement(ke.a,null)},"Click to Upload"))),r.a.createElement(je.a.Item,t,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Post Now"))))}}]),n}(a.Component),Ae=Object(o.g)(Se),Ne=(n(1094),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSave=function(){var t=Object(m.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.create(n);case 2:ae.b.success("save successfully !"),e.props.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(n,[{key:"render",value:function(){var e={wrapperCol:{offset:8,span:16}};return r.a.createElement("div",{className:"create-news"},r.a.createElement(je.a,Object.assign({},{labelCol:{span:4},wrapperCol:{span:18}},{name:"basic",initialValues:{remember:!0},onFinish:this.onSave}),r.a.createElement(je.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input the news name"}]},r.a.createElement(v.a,{placeholder:"category name"})),r.a.createElement(je.a.Item,{label:"Infomation",name:"description",rules:[{required:!0,message:"Please input the category detail"}]},r.a.createElement(v.a.TextArea,{showCount:!0,placeholder:"category detail"})),r.a.createElement(je.a.Item,e,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Create Category Now"))))}}]),n}(a.Component)),Le=Object(o.g)(Ne),Ie=n(1119),Te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).goLogin=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="https://inrupt.net/auth",n="".concat(window.location.origin,"/"),e.next=5,S.a.currentSession();case 5:if(e.sent){e.next=10;break}return localStorage.removeItem("solid-auth-client"),e.next=10,S.a.login(t,{callbackUri:n,storage:localStorage});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),e}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"}},r.a.createElement(g.a,{type:"primary",onClick:function(){return e.goLogin()},icon:r.a.createElement(Ie.a,null)},"Login with inrupt.net"))}}]),n}(a.Component),Me=n(172),Fe=Object(N.withAuthorization)((function(e){var t=e.routes,n=e.webId,a=(e.location,e.history,Object(Me.a)(e,["routes","webId","location","history"]));return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,Object.assign({},a,{component:function(){return r.a.createElement(o.d,null,t.map((function(e){var t=e.component;return r.a.createElement(o.b,{key:e.id,path:e.path,render:function(e){return r.a.createElement(t,Object.assign({},e,{webId:n}))},webId:n,exact:!0})})),r.a.createElement(o.a,{to:"/404"}))}})))})),De=Object(N.withWebId)((function(e){var t=e.component,n=e.webId,a=Object(Me.a)(e,["component","webId"]);return n?r.a.createElement(o.a,{to:"/"}):r.a.createElement(o.b,Object.assign({},a,{component:function(e){return r.a.createElement(t,e)}}))})),Ue=[{id:"detail",path:"/detail",component:Ee},{id:"new",path:"/new",component:Ae},{id:"category",path:"/category",component:Le},{id:"admin",path:"/admin",component:be},{id:"home",path:"/",component:fe}],Pe=function(){return r.a.createElement(i.a,null,r.a.createElement(T,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement(o.d,null,r.a.createElement(De,{component:Te,path:"/login",exact:!0}),r.a.createElement(Fe,{path:"/",routes:Ue}))))},He=(n(1095),function(){return r.a.createElement("div",{className:"root-container"},r.a.createElement(Pe,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(He,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},516:function(e,t,n){e.exports=n.p+"static/media/ekseli.5ebe28f1.png"},542:function(e,t,n){e.exports=n(1096)},547:function(e,t,n){},574:function(e,t){},576:function(e,t){},585:function(e,t){},587:function(e,t){},631:function(e,t){},640:function(e,t){},641:function(e,t){},809:function(e,t){},811:function(e,t){},812:function(e,t){},818:function(e,t){},820:function(e,t){},838:function(e,t){},840:function(e,t){},852:function(e,t){},855:function(e,t){},950:function(e,t,n){},980:function(e,t,n){},995:function(e,t,n){}},[[542,1,2]]]);
//# sourceMappingURL=main.e8a3cea9.chunk.js.map